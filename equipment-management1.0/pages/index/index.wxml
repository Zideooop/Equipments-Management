<view class="container">
  <!-- å¤´éƒ¨åŒºåŸŸ -->
  <view class="header">
    <image src="/images/logo.png" mode="widthFix" class="logo"></image>
    <text class="title">å™¨æç®¡ç†ç³»ç»Ÿ</text>
  </view>

  <!-- åº“å­˜ä¿¡æ¯å±•ç¤ºåŒº -->
  <view class="stats-section">
    <!-- ä¿®å¤å¡ç‰‡åç§°å¹¶ç¡®ä¿è·³è½¬åŠŸèƒ½æ­£å¸¸ -->
    <view class="stat-card" bindtap="goToEquipmentList" data-status="">
      <text class="stat-label">å™¨ææ€»æ•°</text>
      <text class="stat-value">{{totalEquipments}}</text>
      <text class="stat-desc">ä»¶</text>
      <view class="stat-footer">
        <text>ç‚¹å‡»æŸ¥çœ‹å…¨éƒ¨</text>
        <text class="iconfont icon-arrow-right"></text>
      </view>
    </view>
    <view class="stat-card highlight" bindtap="goToEquipmentList" data-status="åœ¨åº“">
      <text class="stat-label">å½“å‰åœ¨åº“</text>
      <text class="stat-value">{{availableEquipments}}</text>
      <text class="stat-desc">ä»¶</text>
      <view class="stat-footer">
        <text>ç‚¹å‡»æŸ¥çœ‹åœ¨åº“</text>
        <text class="iconfont icon-arrow-right"></text>
      </view>
    </view>
    <view class="stat-card warning" bindtap="goToEquipmentList" data-status="å€Ÿå‡º">
      <text class="stat-label">å·²å‡ºåº“</text>
      <text class="stat-value">{{borrowedEquipments}}</text>
      <text class="stat-desc">ä»¶</text>
      <view class="stat-footer">
        <text>ç‚¹å‡»æŸ¥çœ‹å€Ÿå‡º</text>
        <text class="iconfont icon-arrow-right"></text>
      </view>
    </view>
  </view>

  <!-- æœ€è¿‘åŠ¨æ€åŒºåŸŸ -->
  <view class="activities-section">
    <view class="section-header">
      <text class="section-title">æœ€è¿‘åŠ¨æ€</text>
    </view>
    
    <view class="activities-list">
      <!-- æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œç‚¹å‡»åŠ¨æ€å¡ç‰‡è·³è½¬è‡³å¯¹åº”å™¨æè¯¦æƒ… -->
      <view 
        wx:for="{{recentActivities}}" 
        wx:key="index" 
        class="activity-item"
        bindtap="goToActivityDetail"
        data-equipmentname="{{item.equipmentName}}"
      >
        <view class="activity-icon {{item.type === 'æ–°å¢' ? 'icon-add' : item.type === 'å€Ÿå‡º' ? 'icon-borrow' : 'icon-return'}}">
          <text class="iconfont {{item.type === 'æ–°å¢' ? 'icon-plus-circle' : item.type === 'å€Ÿå‡º' ? 'icon-arrow-right-circle' : 'icon-arrow-left-circle'}}"></text>
        </view>
        <view class="activity-content">
          <text class="activity-title">{{item.content}}</text>
          <text class="activity-time">{{item.time}}</text>
        </view>
      </view>
      
      <view wx:if="{{recentActivities.length === 0}}" class="empty-activities">
        <text class="empty-icon">ğŸ“‹</text>
        <text class="empty-text">æš‚æ— åŠ¨æ€è®°å½•</text>
      </view>
    </view>
  </view>

  <!-- æ‚¬æµ®åŠŸèƒ½æŒ‰é’® -->
  <view class="float-menu">
    <!-- å­èœå• -->
    <view class="sub-menu" wx:if="{{isMenuOpen}}">
      <view class="sub-btn-wrapper">
        <view class="sub-btn-circle" bindtap="scanCode">
          <text class="iconfont icon-scan"></text>
        </view>
        <text class="sub-btn-text">æ‰«ç </text>
      </view>
      <view class="sub-btn-wrapper">
        <view class="sub-btn-circle" bindtap="goToAdd">
          <text class="iconfont icon-add"></text>
        </view>
        <text class="sub-btn-text">å½•å…¥</text>
      </view>
      <view class="sub-btn-wrapper">
        <view class="sub-btn-circle" bindtap="goToQrcodeGenerator">
          <text class="iconfont icon-barcode"></text>
        </view>
        <text class="sub-btn-text">æ¡ç </text>
      </view>
    </view>
    
    <!-- ä¸»æŒ‰é’® -->
    <view class="main-btn" bindtap="toggleMenu">
      <text class="iconfont {{isMenuOpen ? 'icon-close' : 'icon-plus'}}"></text>
    </view>
  </view>
</view>
    